<?xml version="1.0" encoding="utf-8"?>
<odoo>
 <template id="property_external_layout_gl">
   
    <t t-if="not o and doc">
        <t t-set="o" t-value="doc"/>
    </t>
    <t t-if="o and 'company_id' in o">
        <t t-set="company" t-value="o.company_id"></t>
    </t>
    <t t-if="not o or not 'company_id' in o">
        <t t-set="company" t-value="res_company"></t>
    </t> 

    <t t-call="property_management_extended.external_layout_header_gl1" />
    <t t-raw="0" />
    <t t-call="property_management_extended.external_layout_footer_gl1" />
</template>

<template id="external_layout_header_gl1">
    <div class="header">
            <div class="row ">
                    <div class="col-xs-12 text-center" >
                        <div t-if="company">
                            <h5 style="font-size: 150%;">
                                <div style="color:#2F4B93">
                                    <strong>
                                        <b>
                                            <span t-field="company.rml_header1"/>
                                        </b>
                                    </strong>
                                </div>
                            </h5>
                        </div>
                        <h5 style="font-size: 150%;">
                            <div t-if="company.rml_header">
                                <div >
                                    <strong>
                                        <span t-field="company.name"/>
                                    </strong>
                                </div>
                            </div>
                        </h5>
                        <h5 style="font-size: 150%;">
                            <!-- <div t-if="company.rml_header"> -->
                                <div >
                                    <strong>
                                        General ledger
                                    </strong>
                                </div>
                            <!-- </div> -->
                        </h5>
                    </div>
            </div>    
    </div>
</template>
<template id="external_layout_footer_gl1">
    <div class="footer">
        <div class="text-center col-xs-12">
             <ul t-if="not company.custom_footer" class="list-inline" style="font-size:95%; list-style-type: none;">
                <li t-if="company.website" class="fa fa-info-circle" aria-hidden="true">
                    <span t-field="company.website"/>
                </li>
                <li t-if="company.email" class="fa fa-envelope" aria-hidden="true">
                    <span t-field="company.email"/>
                </li>
                <li t-if="company.phone" class="fa fa-phone-square" aria-hidden="true">
                    <span t-field="company.phone"/>
                </li>
                <span>|</span> <li t-if="company.company_registry" aria-hidden="true">
                    <span t-field="company.company_registry"/>
                  </li>
                <span>|</span> <li t-if="company.street" aria-hidden="true">
                    <span t-field="company.street"/>
                </li>
                <span>|</span> PC.<li t-if="company.zip" aria-hidden="true">
                    <span t-field="company.zip"/>
                </li>
               <span>|</span><li t-if="company.city" aria-hidden="true">
                    <span t-field="company.city"/>
                </li>
               <span>|</span> Fax:<li t-if="company.fax" aria-hidden="true">
                    <span t-field="company.fax"/>
                </li>
            </ul>
            <t t-if="company.custom_footer">
                <span t-raw="company.rml_footer"/>
            </t>
            <ul class="list-inline">
                <li>Page:</li>
                <li><span class="page"/></li>
                <li>/</li>
                <li><span class="topage"/></li>
            </ul>
        </div>
    </div>      
</template>

<!--  -->

<template id="account.report_generalledger">
    <t t-call="report.html_container">
        <t t-call="property_management_extended.property_external_layout_gl">
            <div class="page">
                <div class="row">
                    <div class="col-xs-4">
                        <strong>Display Account</strong>
                        <p>
                            <span t-if="data['display_account'] == 'all'">All accounts'</span>
                            <span t-if="data['display_account'] == 'movement'">With movements</span>
                            <span t-if="data['display_account'] == 'not_zero'">With balance not equal to zero</span>
                        </p>
                    </div>
                    <div class="col-xs-4">
                    </div>
                    <div class="col-xs-4">
                        <strong>Target Moves:</strong>
                        <p t-if="data['target_move'] == 'all'">All Entries</p>
                        <p t-if="data['target_move'] == 'posted'">All Posted Entries</p>
                    </div>
                </div>
                <div class="row mb32">
                    <div class="col-xs-4">
                        <strong>Sorted By:</strong>
                        <p t-if="data['sortby'] == 'sort_date'">Date</p>
                        <p t-if="data['sortby'] == 'sort_journal_partner'">Journal and Partner</p>
                    </div>
                    <div class="col-xs-4">
                        <t t-if="data['date_from']"><strong>Date from :</strong> <span t-esc="data['date_from']"/><br/></t>
                        <t t-if="data['date_to']"><strong>Date to :</strong> <span t-esc="data['date_to']"/></t>
                    </div>
                </div>

                <table class="table table-condensed">
                    <thead>
                        <tr class="text-center">
                            <th>Date</th>
                            <th>JRNL</th>
                            <th>Partner</th>
                            <th>Ref</th>
                            <th>Move</th>
                            <th>Entry Label</th>
                             <th>Cheque</th>
                            <th>Debit</th>
                            <th>Credit</th>
                            <th>Balance</th>
                            <th groups="base.group_multi_currency">Currency</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="Accounts" t-as="account">
                            <tr style="font-weight: bold;">
                                <td colspan="6">
                                    <span style="color: white;" t-esc="'..'"/>
                                    <span t-esc="account['code']"/>
                                    <span t-esc="account['name']"/>
                                </td>
                                <td class="text-right">
                                    
                                </td>
                                <td class="text-right">
                                    <span t-esc="account['debit']" t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                                </td>
                                <td class="text-right">
                                    <span t-esc="account['credit']" t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                                </td>
                                <td class="text-right">
                                    <span t-esc="account['balance']" t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                                </td>
                                <td groups="base.group_multi_currency"/>
                            </tr>
                            <tr t-foreach="account['move_lines']" t-as="line">
                                <td><span t-esc="line['ldate']"/></td>
                                <td><span t-esc="line['lcode']"/></td>
                                <td><span t-esc="line['partner_name']"/></td>
                                <td><span t-if="line['lref']" t-esc="line['lref']"/></td>
                                <td><span t-esc="line['move_name']"/></td>
                                <td><span t-esc="line['lname']"/></td>
                                <td><t t-if="line['cheque_reference']"><span t-esc="line['cheque_reference']"/></t></td> 
                                <td class="text-right">
                                    <span t-esc="line['debit']" t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                                </td>
                                <td class="text-right">
                                    <span t-esc="line['credit']" t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                                </td>
                                <td class="text-right">
                                    <span t-esc="line['balance']" t-options="{'widget': 'monetary', 'display_currency': res_company.currency_id}"/>
                                </td>
                                <td class="text-right" groups="base.group_multi_currency">
                                    <span t-esc="line['amount_currency'] if line['amount_currency'] > 0.00 else ''"/>
                                    <span t-esc="line['currency_code'] if line['amount_currency'] > 0.00 else ''"/>
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>
        </t>
    </t>
</template>
<!-- assets_pdf -->

</odoo>
